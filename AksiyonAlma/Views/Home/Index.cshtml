

@{
    ViewData["Title"] = "Home Page";
}


<div class="container">
    <div class="row">
        <div class="col-md-8">
            @await Component.InvokeAsync("uretimOperasyonBildirimleriList")
        </div>
        <div class="col-md-4">
            @await Component.InvokeAsync("StandartDuruslarList")
            <a id="deneme"  class="btn btn-success">Aksiyon Al</a>
        </div>
    </div>
</div>
<div class="p2-" id="aksiyonal">
</div>

<script src="~/lib/jquery/dist/jquery.js"></script>
<script>
    $("#deneme").click(function () {
        $.ajax({
            contentType: "application/json",
            dataType: "json",
            type: "Get",
            url: "/Home/AksiyonAl/",

            //eger basarili olursa bana bir fonksiyon dön ismi funk olsun dedik
            success: function (funk) {
            
                let values = jQuery.parseJSON(funk);
                  console.log(values);

                let htmlst = "<table class=table table-bordered> <tr><th> Kayıt No </th> <th> Başlangıç </th> <th> Bitiş </th> <th> Toplam Süre (Saat) </th> <th> Statü </th> <th> Duruş Nedeni </th></tr>";
             
                $.each(values, (index, value) => {
                    htmlst += `<tr><td>${value.KayitNo}</td> <td>${value.Baslangic}</td> <td>${value.Bitis}</td> <td>${value.ToplamSure}</td> <td>${value.Statu === 1 ? 'URETIM' : 'DURUS'} </td > <td> ${value.DurusNedeni} </td>  </tr > `
                });

                htmlst += "</table>";

                //verileri tabloya yansitacaz

                $("#aksiyonal").html(htmlst);      

            }
        });
    });
</script>